# 广告后台服务化方案

## 背景
   商业平台业务日趋复杂，随之代码仓库日趋庞大，代码几乎全部集中在adweb和ss_ad两个仓库，随着业务的快速发展，后期代码膨胀将难以维护.
   
## 缺点
   * 不同业务全部集中在一个系统里，代码的开发、线上维护互相影响
   * 代码接口、方法通过引入模块进行依赖，模块间无法做到完全透明，不够轻量
   * 业务职能边界不够清晰，不收敛，很难做到单一职责
   
## 服务化方案
   * 系统按照不同的业务进行业务模块划分，职责收敛
   * 不同业务模块对外提供rpc服务，不再进行代码依赖，而是服务接口依赖
   * 将controller层单独抽离成一个系统模块，该模块只负责将http请求转发给后端rpc服务，以及多种rpc服务的组合，业务逻辑全部下沉到各个rpc服务

## 服务化模块
   根据现有商业平台业务功能进行划分，将分为以下八大中心，两大web系统
   
   1、八大中心
   * 推广中心：负责adgroup，campaign，creative的管理
   * 账户中心：负责广告主，代理商的操作权限，登录的管理
   * 日志中心：负责广告主操作日志管理
   * 工具中心：负责平台工具管理
   * 报表中心：负责平台报表数据管理
   * 消息中心：负责平台站内信管理
   * 库存中心：负责库存管理
   * 财务中心：负责平台财务结算管理
   
   2、两大web系统
   * 商业平台前端系统：负责http请求处理，业务数据响应，rpc服务调用，前端模板渲染
   * open api网关系统：通过配置化方式将rpc服务能力对外以http接口透出，负责open api的参数到rpc服务参数的转化，参数合法性校验，rpc服务编排
   
## 服务化架构图